begin_unit
comment|'# Copyright (c) 2011 OpenStack, LLC.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Licensed under the Apache License, Version 2.0 (the "License");'
nl|'\n'
comment|'# you may not use this file except in compliance with the License.'
nl|'\n'
comment|'# You may obtain a copy of the License at'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    http://www.apache.org/licenses/LICENSE-2.0'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Unless required by applicable law or agreed to in writing, software'
nl|'\n'
comment|'# distributed under the License is distributed on an "AS IS" BASIS,'
nl|'\n'
comment|'# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or'
nl|'\n'
comment|'# implied.'
nl|'\n'
comment|'# See the License for the specific language governing permissions and'
nl|'\n'
comment|'# limitations under the License.'
nl|'\n'
nl|'\n'
name|'import'
name|'hmac'
newline|'\n'
name|'import'
name|'unittest'
newline|'\n'
name|'from'
name|'hashlib'
name|'import'
name|'sha1'
newline|'\n'
name|'from'
name|'contextlib'
name|'import'
name|'contextmanager'
newline|'\n'
name|'from'
name|'StringIO'
name|'import'
name|'StringIO'
newline|'\n'
name|'from'
name|'time'
name|'import'
name|'time'
newline|'\n'
nl|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
op|'.'
name|'swob'
name|'import'
name|'Request'
op|','
name|'Response'
newline|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
op|'.'
name|'middleware'
name|'import'
name|'tempauth'
op|','
name|'formpost'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|FakeMemcache
name|'class'
name|'FakeMemcache'
op|'('
name|'object'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'store'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
DECL|member|get
dedent|''
name|'def'
name|'get'
op|'('
name|'self'
op|','
name|'key'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'store'
op|'.'
name|'get'
op|'('
name|'key'
op|')'
newline|'\n'
nl|'\n'
DECL|member|set
dedent|''
name|'def'
name|'set'
op|'('
name|'self'
op|','
name|'key'
op|','
name|'value'
op|','
name|'time'
op|'='
number|'0'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'store'
op|'['
name|'key'
op|']'
op|'='
name|'value'
newline|'\n'
name|'return'
name|'True'
newline|'\n'
nl|'\n'
DECL|member|incr
dedent|''
name|'def'
name|'incr'
op|'('
name|'self'
op|','
name|'key'
op|','
name|'timeout'
op|'='
number|'0'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'store'
op|'['
name|'key'
op|']'
op|'='
name|'self'
op|'.'
name|'store'
op|'.'
name|'setdefault'
op|'('
name|'key'
op|','
number|'0'
op|')'
op|'+'
number|'1'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'store'
op|'['
name|'key'
op|']'
newline|'\n'
nl|'\n'
dedent|''
op|'@'
name|'contextmanager'
newline|'\n'
DECL|member|soft_lock
name|'def'
name|'soft_lock'
op|'('
name|'self'
op|','
name|'key'
op|','
name|'timeout'
op|'='
number|'0'
op|','
name|'retries'
op|'='
number|'5'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'yield'
name|'True'
newline|'\n'
nl|'\n'
DECL|member|delete
dedent|''
name|'def'
name|'delete'
op|'('
name|'self'
op|','
name|'key'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'del'
name|'self'
op|'.'
name|'store'
op|'['
name|'key'
op|']'
newline|'\n'
dedent|''
name|'except'
name|'Exception'
op|':'
newline|'\n'
indent|'            '
name|'pass'
newline|'\n'
dedent|''
name|'return'
name|'True'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|FakeApp
dedent|''
dedent|''
name|'class'
name|'FakeApp'
op|'('
name|'object'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'status_headers_body_iter'
op|'='
name|'None'
op|','
nl|'\n'
name|'check_no_query_string'
op|'='
name|'True'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'status_headers_body_iter'
op|'='
name|'status_headers_body_iter'
newline|'\n'
name|'if'
name|'not'
name|'self'
op|'.'
name|'status_headers_body_iter'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'status_headers_body_iter'
op|'='
name|'iter'
op|'('
op|'['
op|'('
string|"'404 Not Found'"
op|','
op|'{'
nl|'\n'
string|"'x-test-header-one-a'"
op|':'
string|"'value1'"
op|','
nl|'\n'
string|"'x-test-header-two-a'"
op|':'
string|"'value2'"
op|','
nl|'\n'
string|"'x-test-header-two-b'"
op|':'
string|"'value3'"
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'requests'
op|'='
op|'['
op|']'
newline|'\n'
name|'self'
op|'.'
name|'check_no_query_string'
op|'='
name|'check_no_query_string'
newline|'\n'
nl|'\n'
DECL|member|__call__
dedent|''
name|'def'
name|'__call__'
op|'('
name|'self'
op|','
name|'env'
op|','
name|'start_response'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'check_no_query_string'
name|'and'
name|'env'
op|'.'
name|'get'
op|'('
string|"'QUERY_STRING'"
op|')'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'Exception'
op|'('
string|"'Query string %s should have been discarded!'"
op|'%'
nl|'\n'
name|'env'
op|'['
string|"'QUERY_STRING'"
op|']'
op|')'
newline|'\n'
dedent|''
name|'body'
op|'='
string|"''"
newline|'\n'
name|'while'
name|'True'
op|':'
newline|'\n'
indent|'            '
name|'chunk'
op|'='
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'.'
name|'read'
op|'('
op|')'
newline|'\n'
name|'if'
name|'not'
name|'chunk'
op|':'
newline|'\n'
indent|'                '
name|'break'
newline|'\n'
dedent|''
name|'body'
op|'+='
name|'chunk'
newline|'\n'
dedent|''
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'requests'
op|'.'
name|'append'
op|'('
name|'Request'
op|'.'
name|'blank'
op|'('
string|"''"
op|','
name|'environ'
op|'='
name|'env'
op|')'
op|')'
newline|'\n'
name|'if'
name|'env'
op|'.'
name|'get'
op|'('
string|"'swift.authorize_override'"
op|')'
name|'and'
name|'env'
op|'.'
name|'get'
op|'('
string|"'REMOTE_USER'"
op|')'
op|'!='
string|"'.wsgi.pre_authed'"
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'Exception'
op|'('
nl|'\n'
string|"'Invalid REMOTE_USER %r with swift.authorize_override'"
op|'%'
op|'('
nl|'\n'
name|'env'
op|'.'
name|'get'
op|'('
string|"'REMOTE_USER'"
op|')'
op|','
op|')'
op|')'
newline|'\n'
dedent|''
name|'if'
string|"'swift.authorize'"
name|'in'
name|'env'
op|':'
newline|'\n'
indent|'            '
name|'resp'
op|'='
name|'env'
op|'['
string|"'swift.authorize'"
op|']'
op|'('
name|'self'
op|'.'
name|'requests'
op|'['
op|'-'
number|'1'
op|']'
op|')'
newline|'\n'
name|'if'
name|'resp'
op|':'
newline|'\n'
indent|'                '
name|'return'
name|'resp'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'status_headers_body_iter'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'return'
name|'Response'
op|'('
name|'status'
op|'='
name|'status'
op|','
name|'headers'
op|'='
name|'headers'
op|','
nl|'\n'
name|'body'
op|'='
name|'body'
op|')'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestParseAttrs
dedent|''
dedent|''
name|'class'
name|'TestParseAttrs'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_basic_content_type
indent|'    '
name|'def'
name|'test_basic_content_type'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'name'
op|','
name|'attrs'
op|'='
name|'formpost'
op|'.'
name|'_parse_attrs'
op|'('
string|"'text/plain'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'name'
op|','
string|"'text/plain'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'attrs'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_content_type_with_charset
dedent|''
name|'def'
name|'test_content_type_with_charset'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'name'
op|','
name|'attrs'
op|'='
name|'formpost'
op|'.'
name|'_parse_attrs'
op|'('
string|"'text/plain; charset=UTF8'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'name'
op|','
string|"'text/plain'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'attrs'
op|','
op|'{'
string|"'charset'"
op|':'
string|"'UTF8'"
op|'}'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_content_disposition
dedent|''
name|'def'
name|'test_content_disposition'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'name'
op|','
name|'attrs'
op|'='
name|'formpost'
op|'.'
name|'_parse_attrs'
op|'('
nl|'\n'
string|'\'form-data; name="somefile"; filename="test.html"\''
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'name'
op|','
string|"'form-data'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'attrs'
op|','
op|'{'
string|"'name'"
op|':'
string|"'somefile'"
op|','
string|"'filename'"
op|':'
string|"'test.html'"
op|'}'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestIterRequests
dedent|''
dedent|''
name|'class'
name|'TestIterRequests'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_bad_start
indent|'    '
name|'def'
name|'test_bad_start'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
name|'StringIO'
op|'('
string|"'blah'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'formpost'
op|'.'
name|'FormInvalid'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'str'
op|'('
name|'exc'
op|')'
op|','
string|"'invalid starting boundary'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_empty
dedent|''
name|'def'
name|'test_empty'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
name|'StringIO'
op|'('
string|"'--unique'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"''"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic
dedent|''
name|'def'
name|'test_basic'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nabcdefg\\r\\n--unique--'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'abcdefg'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic2
dedent|''
name|'def'
name|'test_basic2'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nabcdefg\\r\\n--unique\\r\\nhijkl\\r\\n--unique--'"
op|')'
op|','
nl|'\n'
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'abcdefg'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'hijkl'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_tiny_reads
dedent|''
name|'def'
name|'test_tiny_reads'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nabcdefg\\r\\n--unique\\r\\nhijkl\\r\\n--unique--'"
op|')'
op|','
nl|'\n'
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'ab'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'cd'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'ef'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'g'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"''"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'hijkl'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_big_reads
dedent|''
name|'def'
name|'test_big_reads'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nabcdefg\\r\\n--unique\\r\\nhijkl\\r\\n--unique--'"
op|')'
op|','
nl|'\n'
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'65536'
op|')'
op|','
string|"'abcdefg'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"''"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'hijkl'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_broken_mid_stream
dedent|''
name|'def'
name|'test_broken_mid_stream'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
comment|'# We go ahead and accept whatever is sent instead of rejecting the'
nl|'\n'
comment|'# whole request, in case the partial form is still useful.'
nl|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nabc'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'abc'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_readline
dedent|''
name|'def'
name|'test_readline'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nab\\r\\ncd\\ref\\ng\\r\\n--unique\\r\\nhi\\r\\n\\r\\n'"
nl|'\n'
string|"'jkl\\r\\n\\r\\n--unique--'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'ab\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'cd\\ref\\ng'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"''"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'hi\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'jkl\\r\\n'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_readline_with_tiny_chunks
dedent|''
name|'def'
name|'test_readline_with_tiny_chunks'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'orig_read_chunk_size'
op|'='
name|'formpost'
op|'.'
name|'READ_CHUNK_SIZE'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'formpost'
op|'.'
name|'READ_CHUNK_SIZE'
op|'='
number|'2'
newline|'\n'
name|'it'
op|'='
name|'formpost'
op|'.'
name|'_iter_requests'
op|'('
nl|'\n'
name|'StringIO'
op|'('
string|"'--unique\\r\\nab\\r\\ncd\\ref\\ng\\r\\n--unique\\r\\nhi\\r\\n'"
nl|'\n'
string|"'\\r\\njkl\\r\\n\\r\\n--unique--'"
op|')'
op|','
string|"'unique'"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'ab\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'cd\\ref\\ng'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"''"
op|')'
newline|'\n'
name|'fp'
op|'='
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'hi\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'jkl\\r\\n'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'it'
op|'.'
name|'next'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'StopIteration'
op|','
name|'err'
op|':'
newline|'\n'
indent|'                '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'exc'
name|'is'
name|'not'
name|'None'
op|')'
newline|'\n'
dedent|''
name|'finally'
op|':'
newline|'\n'
indent|'            '
name|'formpost'
op|'.'
name|'READ_CHUNK_SIZE'
op|'='
name|'orig_read_chunk_size'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestCappedFileLikeObject
dedent|''
dedent|''
dedent|''
name|'class'
name|'TestCappedFileLikeObject'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_whole
indent|'    '
name|'def'
name|'test_whole'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'assertEquals'
op|'('
nl|'\n'
name|'formpost'
op|'.'
name|'_CappedFileLikeObject'
op|'('
name|'StringIO'
op|'('
string|"'abc'"
op|')'
op|','
number|'10'
op|')'
op|'.'
name|'read'
op|'('
op|')'
op|','
string|"'abc'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_exceeded
dedent|''
name|'def'
name|'test_exceeded'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'formpost'
op|'.'
name|'_CappedFileLikeObject'
op|'('
name|'StringIO'
op|'('
string|"'abc'"
op|')'
op|','
number|'2'
op|')'
op|'.'
name|'read'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'EOFError'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'str'
op|'('
name|'exc'
op|')'
op|','
string|"'max_file_size exceeded'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_whole_readline
dedent|''
name|'def'
name|'test_whole_readline'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'fp'
op|'='
name|'formpost'
op|'.'
name|'_CappedFileLikeObject'
op|'('
name|'StringIO'
op|'('
string|"'abc\\ndef'"
op|')'
op|','
number|'10'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'abc\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'def'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"''"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_exceeded_readline
dedent|''
name|'def'
name|'test_exceeded_readline'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'fp'
op|'='
name|'formpost'
op|'.'
name|'_CappedFileLikeObject'
op|'('
name|'StringIO'
op|'('
string|"'abc\\ndef'"
op|')'
op|','
number|'5'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'abc\\n'"
op|')'
newline|'\n'
name|'exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'readline'
op|'('
op|')'
op|','
string|"'def'"
op|')'
newline|'\n'
dedent|''
name|'except'
name|'EOFError'
op|','
name|'err'
op|':'
newline|'\n'
indent|'            '
name|'exc'
op|'='
name|'err'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'str'
op|'('
name|'exc'
op|')'
op|','
string|"'max_file_size exceeded'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_read_sized
dedent|''
name|'def'
name|'test_read_sized'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'fp'
op|'='
name|'formpost'
op|'.'
name|'_CappedFileLikeObject'
op|'('
name|'StringIO'
op|'('
string|"'abcdefg'"
op|')'
op|','
number|'10'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'ab'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'cd'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'ef'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"'g'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'fp'
op|'.'
name|'read'
op|'('
number|'2'
op|')'
op|','
string|"''"
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestFormPost
dedent|''
dedent|''
name|'class'
name|'TestFormPost'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|setUp
indent|'    '
name|'def'
name|'setUp'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
nl|'\n'
DECL|member|_make_request
dedent|''
name|'def'
name|'_make_request'
op|'('
name|'self'
op|','
name|'path'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
name|'path'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
name|'req'
op|'.'
name|'environ'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'return'
name|'req'
newline|'\n'
nl|'\n'
DECL|member|_make_sig_env_body
dedent|''
name|'def'
name|'_make_sig_env_body'
op|'('
name|'self'
op|','
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
nl|'\n'
name|'expires'
op|','
name|'key'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'sig'
op|'='
name|'hmac'
op|'.'
name|'new'
op|'('
nl|'\n'
name|'key'
op|','
nl|'\n'
string|"'%s\\n%s\\n%s\\n%s\\n%s'"
op|'%'
op|'('
nl|'\n'
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
name|'expires'
op|')'
op|','
nl|'\n'
name|'sha1'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'body'
op|'='
op|'['
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR--'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
op|']'
newline|'\n'
name|'wsgi_errors'
op|'='
name|'StringIO'
op|'('
op|')'
newline|'\n'
name|'env'
op|'='
op|'{'
nl|'\n'
string|"'CONTENT_TYPE'"
op|':'
string|"'multipart/form-data; '"
nl|'\n'
string|"'boundary=----WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_ENCODING'"
op|':'
string|"'gzip, deflate'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_LANGUAGE'"
op|':'
string|"'en-us'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT'"
op|':'
string|"'text/html,application/xhtml+xml,application/xml;'"
nl|'\n'
string|"'q=0.9,*/*;q=0.8'"
op|','
nl|'\n'
string|"'HTTP_CONNECTION'"
op|':'
string|"'keep-alive'"
op|','
nl|'\n'
string|"'HTTP_HOST'"
op|':'
string|"'ubuntu:8080'"
op|','
nl|'\n'
string|"'HTTP_ORIGIN'"
op|':'
string|"'file://'"
op|','
nl|'\n'
string|"'HTTP_USER_AGENT'"
op|':'
string|"'Mozilla/5.0 (Macintosh; Intel Mac OS X '"
nl|'\n'
string|"'10_7_2) AppleWebKit/534.52.7 (KHTML, like Gecko) '"
nl|'\n'
string|"'Version/5.1.2 Safari/534.52.7'"
op|','
nl|'\n'
string|"'PATH_INFO'"
op|':'
name|'path'
op|','
nl|'\n'
string|"'REMOTE_ADDR'"
op|':'
string|"'172.16.83.1'"
op|','
nl|'\n'
string|"'REQUEST_METHOD'"
op|':'
string|"'POST'"
op|','
nl|'\n'
string|"'SCRIPT_NAME'"
op|':'
string|"''"
op|','
nl|'\n'
string|"'SERVER_NAME'"
op|':'
string|"'172.16.83.128'"
op|','
nl|'\n'
string|"'SERVER_PORT'"
op|':'
string|"'8080'"
op|','
nl|'\n'
string|"'SERVER_PROTOCOL'"
op|':'
string|"'HTTP/1.0'"
op|','
nl|'\n'
string|"'wsgi.errors'"
op|':'
name|'wsgi_errors'
op|','
nl|'\n'
string|"'wsgi.multiprocess'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.multithread'"
op|':'
name|'True'
op|','
nl|'\n'
string|"'wsgi.run_once'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.url_scheme'"
op|':'
string|"'http'"
op|','
nl|'\n'
string|"'wsgi.version'"
op|':'
op|'('
number|'1'
op|','
number|'0'
op|')'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'return'
name|'sig'
op|','
name|'env'
op|','
name|'body'
newline|'\n'
nl|'\n'
DECL|member|test_passthrough
dedent|''
name|'def'
name|'test_passthrough'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'method'
name|'in'
op|'('
string|"'HEAD'"
op|','
string|"'GET'"
op|','
string|"'PUT'"
op|','
string|"'POST'"
op|','
string|"'DELETE'"
op|')'
op|':'
newline|'\n'
indent|'            '
name|'resp'
op|'='
name|'self'
op|'.'
name|'_make_request'
op|'('
nl|'\n'
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
name|'method'
op|'}'
op|')'
op|'.'
name|'get_response'
op|'('
name|'self'
op|'.'
name|'formpost'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'resp'
op|'.'
name|'status_int'
op|','
number|'401'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost'"
name|'not'
name|'in'
name|'resp'
op|'.'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_safari
dedent|''
dedent|''
name|'def'
name|'test_safari'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'path'
op|'='
string|"'/v1/AUTH_test/container'"
newline|'\n'
name|'redirect'
op|'='
string|"'http://brim.net'"
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|'='
name|'hmac'
op|'.'
name|'new'
op|'('
nl|'\n'
name|'key'
op|','
nl|'\n'
string|"'%s\\n%s\\n%s\\n%s\\n%s'"
op|'%'
op|'('
nl|'\n'
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
name|'expires'
op|')'
op|','
nl|'\n'
name|'sha1'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'wsgi_input'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR--'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'wsgi_errors'
op|'='
name|'StringIO'
op|'('
op|')'
newline|'\n'
name|'env'
op|'='
op|'{'
nl|'\n'
string|"'CONTENT_TYPE'"
op|':'
string|"'multipart/form-data; '"
nl|'\n'
string|"'boundary=----WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_ENCODING'"
op|':'
string|"'gzip, deflate'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_LANGUAGE'"
op|':'
string|"'en-us'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT'"
op|':'
string|"'text/html,application/xhtml+xml,application/xml;'"
nl|'\n'
string|"'q=0.9,*/*;q=0.8'"
op|','
nl|'\n'
string|"'HTTP_CONNECTION'"
op|':'
string|"'keep-alive'"
op|','
nl|'\n'
string|"'HTTP_HOST'"
op|':'
string|"'ubuntu:8080'"
op|','
nl|'\n'
string|"'HTTP_ORIGIN'"
op|':'
string|"'file://'"
op|','
nl|'\n'
string|"'HTTP_USER_AGENT'"
op|':'
string|"'Mozilla/5.0 (Macintosh; Intel Mac OS X '"
nl|'\n'
string|"'10_7_2) AppleWebKit/534.52.7 (KHTML, like Gecko) '"
nl|'\n'
string|"'Version/5.1.2 Safari/534.52.7'"
op|','
nl|'\n'
string|"'PATH_INFO'"
op|':'
name|'path'
op|','
nl|'\n'
string|"'REMOTE_ADDR'"
op|':'
string|"'172.16.83.1'"
op|','
nl|'\n'
string|"'REQUEST_METHOD'"
op|':'
string|"'POST'"
op|','
nl|'\n'
string|"'SCRIPT_NAME'"
op|':'
string|"''"
op|','
nl|'\n'
string|"'SERVER_NAME'"
op|':'
string|"'172.16.83.128'"
op|','
nl|'\n'
string|"'SERVER_PORT'"
op|':'
string|"'8080'"
op|','
nl|'\n'
string|"'SERVER_PROTOCOL'"
op|':'
string|"'HTTP/1.0'"
op|','
nl|'\n'
string|"'swift.cache'"
op|':'
name|'memcache'
op|','
nl|'\n'
string|"'wsgi.errors'"
op|':'
name|'wsgi_errors'
op|','
nl|'\n'
string|"'wsgi.input'"
op|':'
name|'wsgi_input'
op|','
nl|'\n'
string|"'wsgi.multiprocess'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.multithread'"
op|':'
name|'True'
op|','
nl|'\n'
string|"'wsgi.run_once'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.url_scheme'"
op|':'
string|"'http'"
op|','
nl|'\n'
string|"'wsgi.version'"
op|':'
op|'('
number|'1'
op|','
number|'0'
op|')'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://brim.net?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'http://brim.net?status=201&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_firefox
dedent|''
name|'def'
name|'test_firefox'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'path'
op|'='
string|"'/v1/AUTH_test/container'"
newline|'\n'
name|'redirect'
op|'='
string|"'http://brim.net'"
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|'='
name|'hmac'
op|'.'
name|'new'
op|'('
nl|'\n'
name|'key'
op|','
nl|'\n'
string|"'%s\\n%s\\n%s\\n%s\\n%s'"
op|'%'
op|'('
nl|'\n'
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
name|'expires'
op|')'
op|','
nl|'\n'
name|'sha1'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'wsgi_input'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'-----------------------------168072824752491622650073--'"
op|','
nl|'\n'
string|"''"
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'wsgi_errors'
op|'='
name|'StringIO'
op|'('
op|')'
newline|'\n'
name|'env'
op|'='
op|'{'
nl|'\n'
string|"'CONTENT_TYPE'"
op|':'
string|"'multipart/form-data; '"
nl|'\n'
string|"'boundary=---------------------------168072824752491622650073'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_CHARSET'"
op|':'
string|"'ISO-8859-1,utf-8;q=0.7,*;q=0.7'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_ENCODING'"
op|':'
string|"'gzip, deflate'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_LANGUAGE'"
op|':'
string|"'en-us,en;q=0.5'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT'"
op|':'
string|"'text/html,application/xhtml+xml,application/xml;'"
nl|'\n'
string|"'q=0.9,*/*;q=0.8'"
op|','
nl|'\n'
string|"'HTTP_CONNECTION'"
op|':'
string|"'keep-alive'"
op|','
nl|'\n'
string|"'HTTP_HOST'"
op|':'
string|"'ubuntu:8080'"
op|','
nl|'\n'
string|"'HTTP_USER_AGENT'"
op|':'
string|"'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; '"
nl|'\n'
string|"'rv:8.0.1) Gecko/20100101 Firefox/8.0.1'"
op|','
nl|'\n'
string|"'PATH_INFO'"
op|':'
string|"'/v1/AUTH_test/container'"
op|','
nl|'\n'
string|"'REMOTE_ADDR'"
op|':'
string|"'172.16.83.1'"
op|','
nl|'\n'
string|"'REQUEST_METHOD'"
op|':'
string|"'POST'"
op|','
nl|'\n'
string|"'SCRIPT_NAME'"
op|':'
string|"''"
op|','
nl|'\n'
string|"'SERVER_NAME'"
op|':'
string|"'172.16.83.128'"
op|','
nl|'\n'
string|"'SERVER_PORT'"
op|':'
string|"'8080'"
op|','
nl|'\n'
string|"'SERVER_PROTOCOL'"
op|':'
string|"'HTTP/1.0'"
op|','
nl|'\n'
string|"'swift.cache'"
op|':'
name|'memcache'
op|','
nl|'\n'
string|"'wsgi.errors'"
op|':'
name|'wsgi_errors'
op|','
nl|'\n'
string|"'wsgi.input'"
op|':'
name|'wsgi_input'
op|','
nl|'\n'
string|"'wsgi.multiprocess'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.multithread'"
op|':'
name|'True'
op|','
nl|'\n'
string|"'wsgi.run_once'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.url_scheme'"
op|':'
string|"'http'"
op|','
nl|'\n'
string|"'wsgi.version'"
op|':'
op|'('
number|'1'
op|','
number|'0'
op|')'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://brim.net?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'http://brim.net?status=201&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_chrome
dedent|''
name|'def'
name|'test_chrome'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'path'
op|'='
string|"'/v1/AUTH_test/container'"
newline|'\n'
name|'redirect'
op|'='
string|"'http://brim.net'"
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|'='
name|'hmac'
op|'.'
name|'new'
op|'('
nl|'\n'
name|'key'
op|','
nl|'\n'
string|"'%s\\n%s\\n%s\\n%s\\n%s'"
op|'%'
op|'('
nl|'\n'
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
name|'expires'
op|')'
op|','
nl|'\n'
name|'sha1'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'wsgi_input'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryq3CFxUjfsDMu8XsA--'"
op|','
nl|'\n'
string|"''"
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'wsgi_errors'
op|'='
name|'StringIO'
op|'('
op|')'
newline|'\n'
name|'env'
op|'='
op|'{'
nl|'\n'
string|"'CONTENT_TYPE'"
op|':'
string|"'multipart/form-data; '"
nl|'\n'
string|"'boundary=----WebKitFormBoundaryq3CFxUjfsDMu8XsA'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_CHARSET'"
op|':'
string|"'ISO-8859-1,utf-8;q=0.7,*;q=0.3'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_ENCODING'"
op|':'
string|"'gzip,deflate,sdch'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_LANGUAGE'"
op|':'
string|"'en-US,en;q=0.8'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT'"
op|':'
string|"'text/html,application/xhtml+xml,application/xml;'"
nl|'\n'
string|"'q=0.9,*/*;q=0.8'"
op|','
nl|'\n'
string|"'HTTP_CACHE_CONTROL'"
op|':'
string|"'max-age=0'"
op|','
nl|'\n'
string|"'HTTP_CONNECTION'"
op|':'
string|"'keep-alive'"
op|','
nl|'\n'
string|"'HTTP_HOST'"
op|':'
string|"'ubuntu:8080'"
op|','
nl|'\n'
string|"'HTTP_ORIGIN'"
op|':'
string|"'null'"
op|','
nl|'\n'
string|"'HTTP_USER_AGENT'"
op|':'
string|"'Mozilla/5.0 (Macintosh; Intel Mac OS X '"
nl|'\n'
string|"'10_7_2) AppleWebKit/535.7 (KHTML, like Gecko) '"
nl|'\n'
string|"'Chrome/16.0.912.63 Safari/535.7'"
op|','
nl|'\n'
string|"'PATH_INFO'"
op|':'
string|"'/v1/AUTH_test/container'"
op|','
nl|'\n'
string|"'REMOTE_ADDR'"
op|':'
string|"'172.16.83.1'"
op|','
nl|'\n'
string|"'REQUEST_METHOD'"
op|':'
string|"'POST'"
op|','
nl|'\n'
string|"'SCRIPT_NAME'"
op|':'
string|"''"
op|','
nl|'\n'
string|"'SERVER_NAME'"
op|':'
string|"'172.16.83.128'"
op|','
nl|'\n'
string|"'SERVER_PORT'"
op|':'
string|"'8080'"
op|','
nl|'\n'
string|"'SERVER_PROTOCOL'"
op|':'
string|"'HTTP/1.0'"
op|','
nl|'\n'
string|"'swift.cache'"
op|':'
name|'memcache'
op|','
nl|'\n'
string|"'wsgi.errors'"
op|':'
name|'wsgi_errors'
op|','
nl|'\n'
string|"'wsgi.input'"
op|':'
name|'wsgi_input'
op|','
nl|'\n'
string|"'wsgi.multiprocess'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.multithread'"
op|':'
name|'True'
op|','
nl|'\n'
string|"'wsgi.run_once'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.url_scheme'"
op|':'
string|"'http'"
op|','
nl|'\n'
string|"'wsgi.version'"
op|':'
op|'('
number|'1'
op|','
number|'0'
op|')'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://brim.net?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'http://brim.net?status=201&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_explorer
dedent|''
name|'def'
name|'test_explorer'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'path'
op|'='
string|"'/v1/AUTH_test/container'"
newline|'\n'
name|'redirect'
op|'='
string|"'http://brim.net'"
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|'='
name|'hmac'
op|'.'
name|'new'
op|'('
nl|'\n'
name|'key'
op|','
nl|'\n'
string|"'%s\\n%s\\n%s\\n%s\\n%s'"
op|'%'
op|'('
nl|'\n'
name|'path'
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
name|'expires'
op|')'
op|','
nl|'\n'
name|'sha1'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'memcache'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'wsgi_input'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="C:\\\\testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="C:\\\\testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'-----------------------------7db20d93017c--'"
op|','
nl|'\n'
string|"''"
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'wsgi_errors'
op|'='
name|'StringIO'
op|'('
op|')'
newline|'\n'
name|'env'
op|'='
op|'{'
nl|'\n'
string|"'CONTENT_TYPE'"
op|':'
string|"'multipart/form-data; '"
nl|'\n'
string|"'boundary=---------------------------7db20d93017c'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_ENCODING'"
op|':'
string|"'gzip, deflate'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT_LANGUAGE'"
op|':'
string|"'en-US'"
op|','
nl|'\n'
string|"'HTTP_ACCEPT'"
op|':'
string|"'text/html, application/xhtml+xml, */*'"
op|','
nl|'\n'
string|"'HTTP_CACHE_CONTROL'"
op|':'
string|"'no-cache'"
op|','
nl|'\n'
string|"'HTTP_CONNECTION'"
op|':'
string|"'Keep-Alive'"
op|','
nl|'\n'
string|"'HTTP_HOST'"
op|':'
string|"'172.16.83.128:8080'"
op|','
nl|'\n'
string|"'HTTP_USER_AGENT'"
op|':'
string|"'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT '"
nl|'\n'
string|"'6.1; WOW64; Trident/5.0)'"
op|','
nl|'\n'
string|"'PATH_INFO'"
op|':'
string|"'/v1/AUTH_test/container'"
op|','
nl|'\n'
string|"'REMOTE_ADDR'"
op|':'
string|"'172.16.83.129'"
op|','
nl|'\n'
string|"'REQUEST_METHOD'"
op|':'
string|"'POST'"
op|','
nl|'\n'
string|"'SCRIPT_NAME'"
op|':'
string|"''"
op|','
nl|'\n'
string|"'SERVER_NAME'"
op|':'
string|"'172.16.83.128'"
op|','
nl|'\n'
string|"'SERVER_PORT'"
op|':'
string|"'8080'"
op|','
nl|'\n'
string|"'SERVER_PROTOCOL'"
op|':'
string|"'HTTP/1.0'"
op|','
nl|'\n'
string|"'swift.cache'"
op|':'
name|'memcache'
op|','
nl|'\n'
string|"'wsgi.errors'"
op|':'
name|'wsgi_errors'
op|','
nl|'\n'
string|"'wsgi.input'"
op|':'
name|'wsgi_input'
op|','
nl|'\n'
string|"'wsgi.multiprocess'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.multithread'"
op|':'
name|'True'
op|','
nl|'\n'
string|"'wsgi.run_once'"
op|':'
name|'False'
op|','
nl|'\n'
string|"'wsgi.url_scheme'"
op|':'
string|"'http'"
op|','
nl|'\n'
string|"'wsgi.version'"
op|':'
op|'('
number|'1'
op|','
number|'0'
op|')'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://brim.net?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'http://brim.net?status=201&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_messed_up_start
dedent|''
name|'def'
name|'test_messed_up_start'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://brim.net'"
op|','
number|'5'
op|','
number|'10'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'XX'"
op|'+'
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
nl|'\n'
DECL|function|log_assert_int_status
name|'def'
name|'log_assert_int_status'
op|'('
name|'env'
op|','
name|'response_status_int'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'isinstance'
op|'('
name|'response_status_int'
op|','
name|'int'
op|')'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'formpost'
op|'.'
name|'_log_request'
op|'='
name|'log_assert_int_status'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: invalid starting boundary'"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_max_file_size_exceeded
dedent|''
name|'def'
name|'test_max_file_size_exceeded'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://brim.net'"
op|','
number|'5'
op|','
number|'10'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: max_file_size exceeded'"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_max_file_count_exceeded
dedent|''
name|'def'
name|'test_max_file_count_exceeded'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://brim.net'"
op|','
number|'1024'
op|','
number|'1'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
nl|'\n'
name|'location'
op|','
nl|'\n'
string|"'http://brim.net?status=400&message=max%20file%20count%20exceeded'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
nl|'\n'
string|"'http://brim.net?status=400&message=max%20file%20count%20exceeded'"
nl|'\n'
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_subrequest_does_not_pass_query
dedent|''
name|'def'
name|'test_subrequest_does_not_pass_query'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'QUERY_STRING'"
op|']'
op|'='
string|"'this=should&not=get&passed'"
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
comment|"# We don't cache the key so that it's asked for (and FakeApp verifies"
nl|'\n'
comment|'# that no QUERY_STRING got passed).'
nl|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
nl|'\n'
name|'iter'
op|'('
op|'['
op|'('
string|"'200 Ok'"
op|','
op|'{'
string|"'x-account-meta-temp-url-key'"
op|':'
string|"'abc'"
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|','
nl|'\n'
name|'check_no_query_string'
op|'='
name|'True'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
comment|'# Make sure we 201 Created, which means we made the final subrequest'
nl|'\n'
comment|'# (and FakeAp verifies that no QUERY_STRING got passed).'
nl|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'201 Created'"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'3'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_subrequest_fails
dedent|''
name|'def'
name|'test_subrequest_fails'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://brim.net'"
op|','
number|'1024'
op|','
number|'10'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'404 Not Found'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://brim.net?status=404&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'http://brim.net?status=404&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_truncated_attr_value
dedent|''
name|'def'
name|'test_truncated_attr_value'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'redirect'
op|'='
string|"'a'"
op|'*'
name|'formpost'
op|'.'
name|'MAX_VALUE_LENGTH'
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
nl|'\n'
name|'expires'
op|','
name|'key'
op|')'
newline|'\n'
comment|"# Tack on an extra char to redirect, but shouldn't matter since it"
nl|'\n'
comment|'# should get truncated off on read.'
nl|'\n'
name|'redirect'
op|'+='
string|"'b'"
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file1"; \''
nl|'\n'
string|'\'filename="testfile1.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test File\\nOne\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file2"; \''
nl|'\n'
string|'\'filename="testfile2.txt"\''
op|','
nl|'\n'
string|"'Content-Type: text/plain'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'Test\\nFile\\nTwo\\n'"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="file3"; filename=""\''
op|','
nl|'\n'
string|"'Content-Type: application/octet-stream'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR--'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
nl|'\n'
name|'location'
op|','
nl|'\n'
op|'('
string|"'a'"
op|'*'
name|'formpost'
op|'.'
name|'MAX_VALUE_LENGTH'
op|')'
op|'+'
string|"'?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
nl|'\n'
op|'('
string|"'a'"
op|'*'
name|'formpost'
op|'.'
name|'MAX_VALUE_LENGTH'
op|')'
op|'+'
string|"'?status=201&message='"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_file_to_process
dedent|''
name|'def'
name|'test_no_file_to_process'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'redirect'
op|'='
string|"'http://brim.net'"
newline|'\n'
name|'max_file_size'
op|'='
number|'1024'
newline|'\n'
name|'max_file_count'
op|'='
number|'10'
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
name|'redirect'
op|','
name|'max_file_size'
op|','
name|'max_file_count'
op|','
nl|'\n'
name|'expires'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
op|'['
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="redirect"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'redirect'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_size"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_size'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="max_file_count"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'max_file_count'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="expires"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'str'
op|'('
name|'expires'
op|')'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR'"
op|','
nl|'\n'
string|'\'Content-Disposition: form-data; name="signature"\''
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
name|'sig'
op|','
nl|'\n'
string|"'------WebKitFormBoundaryNcxTqxSlX7t4TDkR--'"
op|','
nl|'\n'
string|"''"
op|','
nl|'\n'
op|']'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
nl|'\n'
name|'location'
op|','
nl|'\n'
string|"'http://brim.net?status=400&message=no%20files%20to%20process'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
nl|'\n'
string|"'http://brim.net?status=400&message=no%20files%20to%20process'"
nl|'\n'
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_redirect
dedent|''
name|'def'
name|'test_redirect'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://redirect'"
op|','
number|'1024'
op|','
number|'10'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
string|"'http://redirect?status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'location'
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_redirect_with_query
dedent|''
name|'def'
name|'test_redirect_with_query'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"'http://redirect?one=two'"
op|','
number|'1024'
op|','
number|'10'
op|','
nl|'\n'
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'303 See Other'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
nl|'\n'
string|"'http://redirect?one=two&status=201&message='"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'location'
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_redirect
dedent|''
name|'def'
name|'test_no_redirect'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'201 Created'"
name|'in'
name|'body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'0'
op|']'
op|'.'
name|'body'
op|','
string|"'Test File\\nOne\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'self'
op|'.'
name|'app'
op|'.'
name|'requests'
op|'['
number|'1'
op|']'
op|'.'
name|'body'
op|','
string|"'Test\\nFile\\nTwo\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_redirect_expired
dedent|''
name|'def'
name|'test_no_redirect_expired'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'-'
number|'10'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Form Expired'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_redirect_invalid_sig
dedent|''
name|'def'
name|'test_no_redirect_invalid_sig'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
comment|'# Change key to invalidate sig'
nl|'\n'
name|'key'
op|'='
string|"'def'"
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_redirect_with_error
dedent|''
name|'def'
name|'test_no_redirect_with_error'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'XX'"
op|'+'
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: invalid starting boundary'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_v1
dedent|''
name|'def'
name|'test_no_v1'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v2/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_empty_v1
dedent|''
name|'def'
name|'test_empty_v1'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'//AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_empty_account
dedent|''
name|'def'
name|'test_empty_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1//container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_wrong_account
dedent|''
name|'def'
name|'test_wrong_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_tst/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
nl|'\n'
op|'('
string|"'200 Ok'"
op|','
op|'{'
string|"'x-account-meta-temp-url-key'"
op|':'
string|"'def'"
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_container
dedent|''
name|'def'
name|'test_no_container'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
op|','
name|'key'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'401 Unauthorized'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: Invalid Signature'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_completely_non_int_expires
dedent|''
name|'def'
name|'test_completely_non_int_expires'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'key'
op|'='
string|"'abc'"
newline|'\n'
name|'expires'
op|'='
name|'int'
op|'('
name|'time'
op|'('
op|')'
op|'+'
number|'86400'
op|')'
newline|'\n'
name|'sig'
op|','
name|'env'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'_make_sig_env_body'
op|'('
nl|'\n'
string|"'/v1/AUTH_test/container'"
op|','
string|"''"
op|','
number|'1024'
op|','
number|'10'
op|','
name|'expires'
op|','
name|'key'
op|')'
newline|'\n'
name|'for'
name|'i'
op|','
name|'v'
name|'in'
name|'enumerate'
op|'('
name|'body'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'v'
op|'=='
name|'str'
op|'('
name|'expires'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'body'
op|'['
name|'i'
op|']'
op|'='
string|"'badvalue'"
newline|'\n'
name|'break'
newline|'\n'
dedent|''
dedent|''
name|'env'
op|'['
string|"'wsgi.input'"
op|']'
op|'='
name|'StringIO'
op|'('
string|"'\\r\\n'"
op|'.'
name|'join'
op|'('
name|'body'
op|')'
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'='
name|'FakeMemcache'
op|'('
op|')'
newline|'\n'
name|'env'
op|'['
string|"'swift.cache'"
op|']'
op|'.'
name|'set'
op|'('
string|"'temp-url-key/AUTH_test'"
op|','
name|'key'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeApp'
op|'('
name|'iter'
op|'('
op|'['
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|','
nl|'\n'
op|'('
string|"'201 Created'"
op|','
op|'{'
op|'}'
op|','
string|"''"
op|')'
op|']'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'auth'
op|'='
name|'tempauth'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'formpost'
op|'='
name|'formpost'
op|'.'
name|'filter_factory'
op|'('
op|'{'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'auth'
op|')'
newline|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'exc_info'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'e'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
name|'exc_info'
op|'['
number|'0'
op|']'
op|'='
name|'e'
newline|'\n'
nl|'\n'
dedent|''
name|'body'
op|'='
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'formpost'
op|'('
name|'env'
op|','
name|'start_response'
op|')'
op|')'
newline|'\n'
name|'status'
op|'='
name|'status'
op|'['
number|'0'
op|']'
newline|'\n'
name|'headers'
op|'='
name|'headers'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exc_info'
op|'='
name|'exc_info'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
name|'location'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'h'
op|','
name|'v'
name|'in'
name|'headers'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'h'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'location'"
op|':'
newline|'\n'
indent|'                '
name|'location'
op|'='
name|'v'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'location'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'exc_info'
op|','
name|'None'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'FormPost: expired not an integer'"
name|'in'
name|'body'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
dedent|''
dedent|''
name|'if'
name|'__name__'
op|'=='
string|"'__main__'"
op|':'
newline|'\n'
indent|'    '
name|'unittest'
op|'.'
name|'main'
op|'('
op|')'
newline|'\n'
dedent|''
endmarker|''
end_unit
