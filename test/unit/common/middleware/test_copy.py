begin_unit
comment|'#!/usr/bin/env python'
nl|'\n'
comment|'# Copyright (c) 2015 OpenStack Foundation'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Licensed under the Apache License, Version 2.0 (the "License");'
nl|'\n'
comment|'# you may not use this file except in compliance with the License.'
nl|'\n'
comment|'# You may obtain a copy of the License at'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    http://www.apache.org/licenses/LICENSE-2.0'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Unless required by applicable law or agreed to in writing, software'
nl|'\n'
comment|'# distributed under the License is distributed on an "AS IS" BASIS,'
nl|'\n'
comment|'# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or'
nl|'\n'
comment|'# implied.'
nl|'\n'
comment|'# See the License for the specific language governing permissions and'
nl|'\n'
comment|'# limitations under the License.'
nl|'\n'
nl|'\n'
name|'import'
name|'time'
newline|'\n'
name|'import'
name|'mock'
newline|'\n'
name|'import'
name|'shutil'
newline|'\n'
name|'import'
name|'tempfile'
newline|'\n'
name|'import'
name|'unittest'
newline|'\n'
name|'from'
name|'hashlib'
name|'import'
name|'md5'
newline|'\n'
name|'from'
name|'textwrap'
name|'import'
name|'dedent'
newline|'\n'
nl|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
name|'import'
name|'swob'
newline|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
op|'.'
name|'middleware'
name|'import'
name|'copy'
newline|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
op|'.'
name|'storage_policy'
name|'import'
name|'POLICIES'
newline|'\n'
name|'from'
name|'swift'
op|'.'
name|'common'
op|'.'
name|'swob'
name|'import'
name|'Request'
op|','
name|'HTTPException'
newline|'\n'
name|'from'
name|'test'
op|'.'
name|'unit'
name|'import'
name|'patch_policies'
op|','
name|'debug_logger'
op|','
name|'FakeMemcache'
op|','
name|'FakeRing'
newline|'\n'
name|'from'
name|'test'
op|'.'
name|'unit'
op|'.'
name|'common'
op|'.'
name|'middleware'
op|'.'
name|'helpers'
name|'import'
name|'FakeSwift'
newline|'\n'
name|'from'
name|'test'
op|'.'
name|'unit'
op|'.'
name|'proxy'
op|'.'
name|'controllers'
op|'.'
name|'test_obj'
name|'import'
name|'set_http_connect'
op|','
name|'PatchedObjControllerApp'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestCopyConstraints
name|'class'
name|'TestCopyConstraints'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
DECL|member|test_validate_copy_from
indent|'    '
name|'def'
name|'test_validate_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'x-copy-from'"
op|':'
string|"'c/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_copy_from_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'o2'"
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'x-copy-from'"
op|':'
string|"'c/subdir/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_copy_from_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'subdir/o2'"
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'x-copy-from'"
op|':'
string|"'/c/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_copy_from_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'o2'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_validate_bad_copy_from
dedent|''
name|'def'
name|'test_validate_bad_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'x-copy-from'"
op|':'
string|"'bad_object'"
op|'}'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRaises'
op|'('
name|'HTTPException'
op|','
nl|'\n'
name|'copy'
op|'.'
name|'_check_copy_from_header'
op|','
name|'req'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_validate_destination
dedent|''
name|'def'
name|'test_validate_destination'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'destination'"
op|':'
string|"'c/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_destination_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'o2'"
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'destination'"
op|':'
string|"'c/subdir/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_destination_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'subdir/o2'"
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'destination'"
op|':'
string|"'/c/o2'"
op|'}'
op|')'
newline|'\n'
name|'src_cont'
op|','
name|'src_obj'
op|'='
name|'copy'
op|'.'
name|'_check_destination_header'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_cont'
op|','
string|"'c'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'src_obj'
op|','
string|"'o2'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_validate_bad_destination
dedent|''
name|'def'
name|'test_validate_bad_destination'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v/a/c/o'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'destination'"
op|':'
string|"'bad_object'"
op|'}'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRaises'
op|'('
name|'HTTPException'
op|','
nl|'\n'
name|'copy'
op|'.'
name|'_check_destination_header'
op|','
name|'req'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestServerSideCopyMiddleware
dedent|''
dedent|''
name|'class'
name|'TestServerSideCopyMiddleware'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
DECL|member|setUp
indent|'    '
name|'def'
name|'setUp'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'='
name|'FakeSwift'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'ssc'
op|'='
name|'copy'
op|'.'
name|'filter_factory'
op|'('
op|'{'
nl|'\n'
string|"'object_post_as_copy'"
op|':'
string|"'yes'"
op|','
nl|'\n'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'ssc'
op|'.'
name|'logger'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'logger'
newline|'\n'
nl|'\n'
DECL|member|call_app
dedent|''
name|'def'
name|'call_app'
op|'('
name|'self'
op|','
name|'req'
op|','
name|'app'
op|'='
name|'None'
op|','
name|'expect_exception'
op|'='
name|'False'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'app'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'app'
op|'='
name|'self'
op|'.'
name|'app'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'authorized'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
DECL|function|authorize
name|'def'
name|'authorize'
op|'('
name|'req'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'authorized'
op|'.'
name|'append'
op|'('
name|'req'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'if'
string|"'swift.authorize'"
name|'not'
name|'in'
name|'req'
op|'.'
name|'environ'
op|':'
newline|'\n'
indent|'            '
name|'req'
op|'.'
name|'environ'
op|'['
string|"'swift.authorize'"
op|']'
op|'='
name|'authorize'
newline|'\n'
nl|'\n'
dedent|''
name|'req'
op|'.'
name|'headers'
op|'.'
name|'setdefault'
op|'('
string|'"User-Agent"'
op|','
string|'"Bruce Wayne"'
op|')'
newline|'\n'
nl|'\n'
name|'status'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'headers'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
nl|'\n'
DECL|function|start_response
name|'def'
name|'start_response'
op|'('
name|'s'
op|','
name|'h'
op|','
name|'ei'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|'['
number|'0'
op|']'
op|'='
name|'s'
newline|'\n'
name|'headers'
op|'['
number|'0'
op|']'
op|'='
name|'h'
newline|'\n'
nl|'\n'
dedent|''
name|'body_iter'
op|'='
name|'app'
op|'('
name|'req'
op|'.'
name|'environ'
op|','
name|'start_response'
op|')'
newline|'\n'
name|'body'
op|'='
string|"''"
newline|'\n'
name|'caught_exc'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'for'
name|'chunk'
name|'in'
name|'body_iter'
op|':'
newline|'\n'
indent|'                '
name|'body'
op|'+='
name|'chunk'
newline|'\n'
dedent|''
dedent|''
name|'except'
name|'Exception'
name|'as'
name|'exc'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'expect_exception'
op|':'
newline|'\n'
indent|'                '
name|'caught_exc'
op|'='
name|'exc'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'raise'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'if'
name|'expect_exception'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'status'
op|'['
number|'0'
op|']'
op|','
name|'headers'
op|'['
number|'0'
op|']'
op|','
name|'body'
op|','
name|'caught_exc'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'status'
op|'['
number|'0'
op|']'
op|','
name|'headers'
op|'['
number|'0'
op|']'
op|','
name|'body'
newline|'\n'
nl|'\n'
DECL|member|call_ssc
dedent|''
dedent|''
name|'def'
name|'call_ssc'
op|'('
name|'self'
op|','
name|'req'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'call_app'
op|'('
name|'req'
op|','
name|'app'
op|'='
name|'self'
op|'.'
name|'ssc'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|member|assertRequestEqual
dedent|''
name|'def'
name|'assertRequestEqual'
op|'('
name|'self'
op|','
name|'req'
op|','
name|'other'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req'
op|'.'
name|'method'
op|','
name|'other'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req'
op|'.'
name|'path'
op|','
name|'other'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_no_object_in_path_pass_through
dedent|''
name|'def'
name|'test_no_object_in_path_pass_through'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c'"
op|','
name|'method'
op|'='
string|"'PUT'"
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_object_delete_pass_through
dedent|''
name|'def'
name|'test_object_delete_pass_through'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'DELETE'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'DELETE'"
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'200 OK'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_POST_as_COPY_simple
dedent|''
name|'def'
name|'test_POST_as_COPY_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPAccepted'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'POST'"
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'202 Accepted'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_POST_as_COPY_201_return_202
dedent|''
name|'def'
name|'test_POST_as_COPY_201_return_202'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'POST'"
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'202 Accepted'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_POST_delete_at
dedent|''
name|'def'
name|'test_POST_delete_at'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPAccepted'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'t'
op|'='
name|'str'
op|'('
name|'int'
op|'('
name|'time'
op|'.'
name|'time'
op|'('
op|')'
op|'+'
number|'100'
op|')'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'POST'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Type'"
op|':'
string|"'foo/bar'"
op|','
nl|'\n'
string|"'X-Delete-At'"
op|':'
name|'t'
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'202 Accepted'"
op|')'
newline|'\n'
nl|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
string|"'X-Delete-At'"
name|'in'
name|'req_headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req_headers'
op|'['
string|"'X-Delete-At'"
op|']'
op|','
name|'str'
op|'('
name|'t'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_POST_as_COPY_static_large_object
dedent|''
name|'def'
name|'test_POST_as_COPY_static_large_object'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'X-Static-Large-Object'"
op|':'
name|'True'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPAccepted'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'POST'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'202 Accepted'"
op|')'
newline|'\n'
nl|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertNotIn'
op|'('
string|"'X-Static-Large-Object'"
op|','
name|'req_headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertRequestEqual'
op|'('
name|'req'
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic_put_with_x_copy_from
dedent|''
name|'def'
name|'test_basic_put_with_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_static_large_object
dedent|''
name|'def'
name|'test_static_large_object'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'X-Static-Large-Object'"
op|':'
string|"'True'"
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o2?multipart-manifest=put'"
op|','
nl|'\n'
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o2?multipart-manifest=get'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o2?multipart-manifest=put'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertNotIn'
op|'('
string|"'X-Static-Large-Object'"
op|','
name|'req_headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic_put_with_x_copy_from_across_container
dedent|''
name|'def'
name|'test_basic_put_with_x_copy_from_across_container'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c1/o1'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c2/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c2/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c1/o1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c1/o1'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c1/o1'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c2/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic_put_with_x_copy_from_across_container_and_account
dedent|''
name|'def'
name|'test_basic_put_with_x_copy_from_across_container_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a1/c1/o1'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a2/c2/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|','
nl|'\n'
string|"'passed'"
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a2/c2/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c1/o1'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c1/o1'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a1'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o1'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a2/c2/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_non_zero_content_length
dedent|''
name|'def'
name|'test_copy_non_zero_content_length'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c2/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'10'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c1/o1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_non_zero_content_length_with_account
dedent|''
name|'def'
name|'test_copy_non_zero_content_length_with_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a2/c2/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'10'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c1/o1'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'400 Bad Request'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_slashes_in_x_copy_from
dedent|''
name|'def'
name|'test_copy_with_slashes_in_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c/o/o2'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_slashes_in_x_copy_from_and_account
dedent|''
name|'def'
name|'test_copy_with_slashes_in_x_copy_from_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a1/c1/o/o1'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a2/c2/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a2/c2/o2'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c1/o/o1'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c1/o/o1'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a1'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o/o1'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a2/c2/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_spaces_in_x_copy_from
dedent|''
name|'def'
name|'test_copy_with_spaces_in_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
comment|'# space in soure path'
nl|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c/o%20o2'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o o2'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o%20o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o%20o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_spaces_in_x_copy_from_and_account
dedent|''
name|'def'
name|'test_copy_with_spaces_in_x_copy_from_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
comment|'# space in soure path'
nl|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'c/o%20o2'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o o2'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o%20o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o%20o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_leading_slash_in_x_copy_from
dedent|''
name|'def'
name|'test_copy_with_leading_slash_in_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
comment|'# repeat tests with leading /'
nl|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_leading_slash_in_x_copy_from_and_account
dedent|''
name|'def'
name|'test_copy_with_leading_slash_in_x_copy_from_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
comment|'# repeat tests with leading /'
nl|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_leading_slash_and_slashes_in_x_copy_from
dedent|''
name|'def'
name|'test_copy_with_leading_slash_and_slashes_in_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o/o2'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_leading_slash_and_slashes_in_x_copy_from_acct
dedent|''
name|'def'
name|'test_copy_with_leading_slash_and_slashes_in_x_copy_from_acct'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o/o2'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_no_object_in_x_copy_from
dedent|''
name|'def'
name|'test_copy_with_no_object_in_x_copy_from'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_no_object_in_x_copy_from_and_account
dedent|''
dedent|''
name|'def'
name|'test_copy_with_no_object_in_x_copy_from_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_bad_x_copy_from_account
dedent|''
dedent|''
name|'def'
name|'test_copy_with_bad_x_copy_from_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'/i/am/bad'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_server_error_reading_source
dedent|''
dedent|''
name|'def'
name|'test_copy_server_error_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPServiceUnavailable'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'503 Service Unavailable'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_server_error_reading_source_and_account
dedent|''
name|'def'
name|'test_copy_server_error_reading_source_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPServiceUnavailable'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'503 Service Unavailable'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_not_found_reading_source
dedent|''
name|'def'
name|'test_copy_not_found_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPNotFound'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'404 Not Found'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_not_found_reading_source_and_account
dedent|''
name|'def'
name|'test_copy_not_found_reading_source_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPNotFound'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'404 Not Found'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_object_metadata
dedent|''
name|'def'
name|'test_copy_with_object_metadata'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Object-Meta-Ours'"
op|':'
string|"'okay'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req_headers'
op|'['
string|"'X-Object-Meta-Ours'"
op|']'
op|','
string|"'okay'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Object-Meta-Ours'"
op|','
string|"'okay'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_with_object_metadata_and_account
dedent|''
name|'def'
name|'test_copy_with_object_metadata_and_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a1/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Object-Meta-Ours'"
op|':'
string|"'okay'"
op|','
nl|'\n'
string|"'X-Copy-From-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req_headers'
op|'['
string|"'X-Object-Meta-Ours'"
op|']'
op|','
string|"'okay'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Object-Meta-Ours'"
op|','
string|"'okay'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_copy_source_larger_than_max_file_size
dedent|''
name|'def'
name|'test_copy_source_larger_than_max_file_size'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|'"largebody"'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'PUT'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
string|"'0'"
op|','
nl|'\n'
string|"'X-Copy-From'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'with'
name|'mock'
op|'.'
name|'patch'
op|'('
string|"'swift.common.middleware.copy.'"
nl|'\n'
string|"'MAX_FILE_SIZE'"
op|','
number|'1'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'413 Request Entity Too Large'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic_COPY
dedent|''
name|'def'
name|'test_basic_COPY'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o-copy'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'COPY'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
number|'0'
op|','
nl|'\n'
string|"'Destination'"
op|':'
string|"'c/o-copy'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o-copy'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_no_destination_header
dedent|''
name|'def'
name|'test_COPY_no_destination_header'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'COPY'"
op|','
name|'headers'
op|'='
op|'{'
string|"'Content-Length'"
op|':'
number|'0'
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'412 Precondition Failed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_basic_COPY_account
dedent|''
name|'def'
name|'test_basic_COPY_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c1/o2'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o2'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_across_containers
dedent|''
name|'def'
name|'test_COPY_across_containers'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c2/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c2/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c2/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_source_with_slashes_in_name
dedent|''
name|'def'
name|'test_COPY_source_with_slashes_in_name'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_source_with_slashes_in_name
dedent|''
name|'def'
name|'test_COPY_account_source_with_slashes_in_name'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_destination_leading_slash
dedent|''
name|'def'
name|'test_COPY_destination_leading_slash'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_destination_leading_slash
dedent|''
name|'def'
name|'test_COPY_account_destination_leading_slash'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_source_with_slashes_destination_leading_slash
dedent|''
name|'def'
name|'test_COPY_source_with_slashes_destination_leading_slash'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_source_with_slashes_destination_leading_slash
dedent|''
name|'def'
name|'test_COPY_account_source_with_slashes_destination_leading_slash'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o/o2'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|"'passed'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From'"
op|','
string|"'c/o/o2'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Account'"
op|','
string|"'a'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o/o2'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_no_object_in_destination
dedent|''
name|'def'
name|'test_COPY_no_object_in_destination'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c_o'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_no_object_in_destination
dedent|''
dedent|''
name|'def'
name|'test_COPY_account_no_object_in_destination'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c_o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_bad_destination_account
dedent|''
dedent|''
name|'def'
name|'test_COPY_account_bad_destination_account'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'/i/am/bad'"
op|'}'
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'HTTPException'
name|'as'
name|'resp'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|'"412 Precondition Failed"'
op|','
name|'str'
op|'('
name|'resp'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'fail'
op|'('
string|'"Expecting HTTPException."'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_server_error_reading_source
dedent|''
dedent|''
name|'def'
name|'test_COPY_server_error_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPServiceUnavailable'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'503 Service Unavailable'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_server_error_reading_source
dedent|''
name|'def'
name|'test_COPY_account_server_error_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPServiceUnavailable'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'503 Service Unavailable'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_not_found_reading_source
dedent|''
name|'def'
name|'test_COPY_not_found_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPNotFound'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'404 Not Found'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_not_found_reading_source
dedent|''
name|'def'
name|'test_COPY_account_not_found_reading_source'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPNotFound'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'404 Not Found'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_with_metadata
dedent|''
name|'def'
name|'test_COPY_with_metadata'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|'"passed"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'X-Object-Meta-Ours'"
op|':'
string|"'okay'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req_headers'
op|'['
string|"'X-Object-Meta-Ours'"
op|']'
op|','
string|"'okay'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Object-Meta-Ours'"
op|','
string|"'okay'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_with_metadata
dedent|''
name|'def'
name|'test_COPY_account_with_metadata'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|'"passed"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'X-Object-Meta-Ours'"
op|':'
string|"'okay'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'1'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'req_headers'
op|'['
string|"'X-Object-Meta-Ours'"
op|']'
op|','
string|"'okay'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Object-Meta-Ours'"
op|','
string|"'okay'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_source_zero_content_length
dedent|''
name|'def'
name|'test_COPY_source_zero_content_length'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
name|'None'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'413 Request Entity Too Large'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_source_larger_than_max_file_size
dedent|''
name|'def'
name|'test_COPY_source_larger_than_max_file_size'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|'"largebody"'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'with'
name|'mock'
op|'.'
name|'patch'
op|'('
string|"'swift.common.middleware.copy.'"
nl|'\n'
string|"'MAX_FILE_SIZE'"
op|','
number|'1'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'413 Request Entity Too Large'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_source_zero_content_length
dedent|''
name|'def'
name|'test_COPY_account_source_zero_content_length'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
name|'None'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'413 Request Entity Too Large'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_source_larger_than_max_file_size
dedent|''
name|'def'
name|'test_COPY_account_source_larger_than_max_file_size'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
op|'{'
op|'}'
op|','
string|'"largebody"'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'with'
name|'mock'
op|'.'
name|'patch'
op|'('
string|"'swift.common.middleware.copy.'"
nl|'\n'
string|"'MAX_FILE_SIZE'"
op|','
number|'1'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'413 Request Entity Too Large'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_newest
dedent|''
name|'def'
name|'test_COPY_newest'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'Last-Modified'"
op|':'
string|"'123'"
op|'}'
op|','
string|'"passed"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c/o'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Last-Modified'"
op|','
string|"'123'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_account_newest
dedent|''
name|'def'
name|'test_COPY_account_newest'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'GET'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'Last-Modified'"
op|':'
string|"'123'"
op|'}'
op|','
string|'"passed"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'PUT'"
op|','
string|"'/v1/a1/c1/o'"
op|','
name|'swob'
op|'.'
name|'HTTPCreated'
op|','
op|'{'
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'COPY'"
op|'}'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'/c1/o'"
op|','
nl|'\n'
string|"'Destination-Account'"
op|':'
string|"'a1'"
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'201 Created'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'X-Copied-From-Last-Modified'"
op|','
string|"'123'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'2'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'GET'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'PUT'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a1/c1/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'1'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_in_OPTIONS_response
dedent|''
name|'def'
name|'test_COPY_in_OPTIONS_response'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'OPTIONS'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'Allow'"
op|':'
string|"'GET, PUT'"
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'OPTIONS'"
op|'}'
op|','
name|'headers'
op|'='
op|'{'
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'200 OK'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'OPTIONS'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'Allow'"
op|','
string|"'GET, PUT, COPY'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'OPTIONS'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_in_OPTIONS_response_CORS
dedent|''
name|'def'
name|'test_COPY_in_OPTIONS_response_CORS'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'.'
name|'register'
op|'('
string|"'OPTIONS'"
op|','
string|"'/v1/a/c/o'"
op|','
name|'swob'
op|'.'
name|'HTTPOk'
op|','
nl|'\n'
op|'{'
string|"'Allow'"
op|':'
string|"'GET, PUT'"
op|','
nl|'\n'
string|"'Access-Control-Allow-Methods'"
op|':'
string|"'GET, PUT'"
op|'}'
op|')'
newline|'\n'
name|'req'
op|'='
name|'Request'
op|'.'
name|'blank'
op|'('
string|"'/v1/a/c/o'"
op|','
nl|'\n'
name|'environ'
op|'='
op|'{'
string|"'REQUEST_METHOD'"
op|':'
string|"'OPTIONS'"
op|'}'
op|','
name|'headers'
op|'='
op|'{'
op|'}'
op|')'
newline|'\n'
name|'status'
op|','
name|'headers'
op|','
name|'body'
op|'='
name|'self'
op|'.'
name|'call_ssc'
op|'('
name|'req'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'status'
op|','
string|"'200 OK'"
op|')'
newline|'\n'
name|'calls'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'calls_with_headers'
newline|'\n'
name|'method'
op|','
name|'path'
op|','
name|'req_headers'
op|'='
name|'calls'
op|'['
number|'0'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'OPTIONS'"
op|','
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'path'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'Allow'"
op|','
string|"'GET, PUT, COPY'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
op|'('
string|"'Access-Control-Allow-Methods'"
op|','
nl|'\n'
string|"'GET, PUT, COPY'"
op|')'
name|'in'
name|'headers'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'authorized'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'OPTIONS'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'method'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'/v1/a/c/o'"
op|','
name|'self'
op|'.'
name|'authorized'
op|'['
number|'0'
op|']'
op|'.'
name|'path'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestServerSideCopyConfiguration
dedent|''
dedent|''
name|'class'
name|'TestServerSideCopyConfiguration'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|setUp
indent|'    '
name|'def'
name|'setUp'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'tmpdir'
op|'='
name|'tempfile'
op|'.'
name|'mkdtemp'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|tearDown
dedent|''
name|'def'
name|'tearDown'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'shutil'
op|'.'
name|'rmtree'
op|'('
name|'self'
op|'.'
name|'tmpdir'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_reading_proxy_conf_when_no_middleware_conf_present
dedent|''
name|'def'
name|'test_reading_proxy_conf_when_no_middleware_conf_present'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'proxy_conf'
op|'='
name|'dedent'
op|'('
string|'"""\n        [DEFAULT]\n        bind_ip = 10.4.5.6\n\n        [pipeline:main]\n        pipeline = catch_errors copy ye-olde-proxy-server\n\n        [filter:copy]\n        use = egg:swift#copy\n\n        [app:ye-olde-proxy-server]\n        use = egg:swift#proxy\n        object_post_as_copy = no\n        """'
op|')'
newline|'\n'
nl|'\n'
name|'conffile'
op|'='
name|'tempfile'
op|'.'
name|'NamedTemporaryFile'
op|'('
op|')'
newline|'\n'
name|'conffile'
op|'.'
name|'write'
op|'('
name|'proxy_conf'
op|')'
newline|'\n'
name|'conffile'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'ssc'
op|'='
name|'copy'
op|'.'
name|'filter_factory'
op|'('
op|'{'
nl|'\n'
string|"'__file__'"
op|':'
name|'conffile'
op|'.'
name|'name'
nl|'\n'
op|'}'
op|')'
op|'('
string|'"no app here"'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'ssc'
op|'.'
name|'object_post_as_copy'
op|','
name|'False'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_middleware_conf_precedence
dedent|''
name|'def'
name|'test_middleware_conf_precedence'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'proxy_conf'
op|'='
name|'dedent'
op|'('
string|'"""\n        [DEFAULT]\n        bind_ip = 10.4.5.6\n\n        [pipeline:main]\n        pipeline = catch_errors copy ye-olde-proxy-server\n\n        [filter:copy]\n        use = egg:swift#copy\n        object_post_as_copy = no\n\n        [app:ye-olde-proxy-server]\n        use = egg:swift#proxy\n        object_post_as_copy = yes\n        """'
op|')'
newline|'\n'
nl|'\n'
name|'conffile'
op|'='
name|'tempfile'
op|'.'
name|'NamedTemporaryFile'
op|'('
op|')'
newline|'\n'
name|'conffile'
op|'.'
name|'write'
op|'('
name|'proxy_conf'
op|')'
newline|'\n'
name|'conffile'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'ssc'
op|'='
name|'copy'
op|'.'
name|'filter_factory'
op|'('
op|'{'
nl|'\n'
string|"'object_post_as_copy'"
op|':'
string|"'no'"
op|','
nl|'\n'
string|"'__file__'"
op|':'
name|'conffile'
op|'.'
name|'name'
nl|'\n'
op|'}'
op|')'
op|'('
string|'"no app here"'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'ssc'
op|'.'
name|'object_post_as_copy'
op|','
name|'False'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
dedent|''
dedent|''
op|'@'
name|'patch_policies'
op|'('
name|'with_ec_default'
op|'='
name|'True'
op|')'
newline|'\n'
DECL|class|TestServerSideCopyMiddlewareWithEC
name|'class'
name|'TestServerSideCopyMiddlewareWithEC'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
DECL|variable|container_info
indent|'    '
name|'container_info'
op|'='
op|'{'
nl|'\n'
string|"'write_acl'"
op|':'
name|'None'
op|','
nl|'\n'
string|"'read_acl'"
op|':'
name|'None'
op|','
nl|'\n'
string|"'storage_policy'"
op|':'
name|'None'
op|','
nl|'\n'
string|"'sync_key'"
op|':'
name|'None'
op|','
nl|'\n'
string|"'versions'"
op|':'
name|'None'
op|','
nl|'\n'
op|'}'
newline|'\n'
nl|'\n'
DECL|member|setUp
name|'def'
name|'setUp'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'logger'
op|'='
name|'debug_logger'
op|'('
string|"'proxy-server'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'logger'
op|'.'
name|'thread_locals'
op|'='
op|'('
string|"'txn1'"
op|','
string|"'127.0.0.2'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'='
name|'PatchedObjControllerApp'
op|'('
nl|'\n'
name|'None'
op|','
name|'FakeMemcache'
op|'('
op|')'
op|','
name|'account_ring'
op|'='
name|'FakeRing'
op|'('
op|')'
op|','
nl|'\n'
name|'container_ring'
op|'='
name|'FakeRing'
op|'('
op|')'
op|','
name|'logger'
op|'='
name|'self'
op|'.'
name|'logger'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'ssc'
op|'='
name|'copy'
op|'.'
name|'filter_factory'
op|'('
op|'{'
nl|'\n'
string|"'object_post_as_copy'"
op|':'
string|"'yes'"
op|','
nl|'\n'
op|'}'
op|')'
op|'('
name|'self'
op|'.'
name|'app'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'ssc'
op|'.'
name|'logger'
op|'='
name|'self'
op|'.'
name|'app'
op|'.'
name|'logger'
newline|'\n'
name|'self'
op|'.'
name|'policy'
op|'='
name|'POLICIES'
op|'.'
name|'default'
newline|'\n'
name|'self'
op|'.'
name|'app'
op|'.'
name|'container_info'
op|'='
name|'dict'
op|'('
name|'self'
op|'.'
name|'container_info'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_with_ranges
dedent|''
name|'def'
name|'test_COPY_with_ranges'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'req'
op|'='
name|'swob'
op|'.'
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
string|"'COPY'"
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c1/o'"
op|','
nl|'\n'
string|"'Range'"
op|':'
string|"'bytes=5-10'"
op|'}'
op|')'
newline|'\n'
comment|'# turn a real body into fragments'
nl|'\n'
name|'segment_size'
op|'='
name|'self'
op|'.'
name|'policy'
op|'.'
name|'ec_segment_size'
newline|'\n'
name|'real_body'
op|'='
op|'('
string|"'asdf'"
op|'*'
name|'segment_size'
op|')'
op|'['
op|':'
op|'-'
number|'10'
op|']'
newline|'\n'
nl|'\n'
comment|'# split it up into chunks'
nl|'\n'
name|'chunks'
op|'='
op|'['
name|'real_body'
op|'['
name|'x'
op|':'
name|'x'
op|'+'
name|'segment_size'
op|']'
nl|'\n'
name|'for'
name|'x'
name|'in'
name|'range'
op|'('
number|'0'
op|','
name|'len'
op|'('
name|'real_body'
op|')'
op|','
name|'segment_size'
op|')'
op|']'
newline|'\n'
nl|'\n'
comment|'# we need only first chunk to rebuild 5-10 range'
nl|'\n'
name|'fragments'
op|'='
name|'self'
op|'.'
name|'policy'
op|'.'
name|'pyeclib_driver'
op|'.'
name|'encode'
op|'('
name|'chunks'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
name|'fragment_payloads'
op|'='
op|'['
op|']'
newline|'\n'
name|'fragment_payloads'
op|'.'
name|'append'
op|'('
name|'fragments'
op|')'
newline|'\n'
nl|'\n'
name|'node_fragments'
op|'='
name|'zip'
op|'('
op|'*'
name|'fragment_payloads'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'node_fragments'
op|')'
op|','
nl|'\n'
name|'self'
op|'.'
name|'policy'
op|'.'
name|'object_ring'
op|'.'
name|'replicas'
op|')'
comment|'# sanity'
newline|'\n'
name|'headers'
op|'='
op|'{'
string|"'X-Object-Sysmeta-Ec-Content-Length'"
op|':'
name|'str'
op|'('
name|'len'
op|'('
name|'real_body'
op|')'
op|')'
op|'}'
newline|'\n'
name|'responses'
op|'='
op|'['
op|'('
number|'200'
op|','
string|"''"
op|'.'
name|'join'
op|'('
name|'node_fragments'
op|'['
name|'i'
op|']'
op|')'
op|','
name|'headers'
op|')'
nl|'\n'
name|'for'
name|'i'
name|'in'
name|'range'
op|'('
name|'POLICIES'
op|'.'
name|'default'
op|'.'
name|'ec_ndata'
op|')'
op|']'
newline|'\n'
name|'responses'
op|'+='
op|'['
op|'('
number|'201'
op|','
string|"''"
op|','
op|'{'
op|'}'
op|')'
op|']'
op|'*'
name|'self'
op|'.'
name|'policy'
op|'.'
name|'object_ring'
op|'.'
name|'replicas'
newline|'\n'
name|'status_codes'
op|','
name|'body_iter'
op|','
name|'headers'
op|'='
name|'zip'
op|'('
op|'*'
name|'responses'
op|')'
newline|'\n'
name|'expect_headers'
op|'='
op|'{'
nl|'\n'
string|"'X-Obj-Metadata-Footer'"
op|':'
string|"'yes'"
op|','
nl|'\n'
string|"'X-Obj-Multiphase-Commit'"
op|':'
string|"'yes'"
nl|'\n'
op|'}'
newline|'\n'
name|'with'
name|'set_http_connect'
op|'('
op|'*'
name|'status_codes'
op|','
name|'body_iter'
op|'='
name|'body_iter'
op|','
nl|'\n'
name|'headers'
op|'='
name|'headers'
op|','
name|'expect_headers'
op|'='
name|'expect_headers'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'resp'
op|'='
name|'req'
op|'.'
name|'get_response'
op|'('
name|'self'
op|'.'
name|'ssc'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'status_int'
op|','
number|'201'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_COPY_with_invalid_ranges
dedent|''
name|'def'
name|'test_COPY_with_invalid_ranges'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
comment|'# real body size is segment_size - 10 (just 1 segment)'
nl|'\n'
indent|'        '
name|'segment_size'
op|'='
name|'self'
op|'.'
name|'policy'
op|'.'
name|'ec_segment_size'
newline|'\n'
name|'real_body'
op|'='
op|'('
string|"'a'"
op|'*'
name|'segment_size'
op|')'
op|'['
op|':'
op|'-'
number|'10'
op|']'
newline|'\n'
nl|'\n'
comment|'# range is out of real body but in segment size'
nl|'\n'
name|'self'
op|'.'
name|'_test_invalid_ranges'
op|'('
string|"'COPY'"
op|','
name|'real_body'
op|','
nl|'\n'
name|'segment_size'
op|','
string|"'%s-'"
op|'%'
op|'('
name|'segment_size'
op|'-'
number|'10'
op|')'
op|')'
newline|'\n'
comment|'# range is out of both real body and segment size'
nl|'\n'
name|'self'
op|'.'
name|'_test_invalid_ranges'
op|'('
string|"'COPY'"
op|','
name|'real_body'
op|','
nl|'\n'
name|'segment_size'
op|','
string|"'%s-'"
op|'%'
op|'('
name|'segment_size'
op|'+'
number|'10'
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|member|_test_invalid_ranges
dedent|''
name|'def'
name|'_test_invalid_ranges'
op|'('
name|'self'
op|','
name|'method'
op|','
name|'real_body'
op|','
name|'segment_size'
op|','
name|'req_range'
op|')'
op|':'
newline|'\n'
comment|'# make a request with range starts from more than real size.'
nl|'\n'
indent|'        '
name|'body_etag'
op|'='
name|'md5'
op|'('
name|'real_body'
op|')'
op|'.'
name|'hexdigest'
op|'('
op|')'
newline|'\n'
name|'req'
op|'='
name|'swob'
op|'.'
name|'Request'
op|'.'
name|'blank'
op|'('
nl|'\n'
string|"'/v1/a/c/o'"
op|','
name|'method'
op|'='
name|'method'
op|','
nl|'\n'
name|'headers'
op|'='
op|'{'
string|"'Destination'"
op|':'
string|"'c1/o'"
op|','
nl|'\n'
string|"'Range'"
op|':'
string|"'bytes=%s'"
op|'%'
op|'('
name|'req_range'
op|')'
op|'}'
op|')'
newline|'\n'
nl|'\n'
name|'fragments'
op|'='
name|'self'
op|'.'
name|'policy'
op|'.'
name|'pyeclib_driver'
op|'.'
name|'encode'
op|'('
name|'real_body'
op|')'
newline|'\n'
name|'fragment_payloads'
op|'='
op|'['
name|'fragments'
op|']'
newline|'\n'
nl|'\n'
name|'node_fragments'
op|'='
name|'zip'
op|'('
op|'*'
name|'fragment_payloads'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'node_fragments'
op|')'
op|','
nl|'\n'
name|'self'
op|'.'
name|'policy'
op|'.'
name|'object_ring'
op|'.'
name|'replicas'
op|')'
comment|'# sanity'
newline|'\n'
name|'headers'
op|'='
op|'{'
string|"'X-Object-Sysmeta-Ec-Content-Length'"
op|':'
name|'str'
op|'('
name|'len'
op|'('
name|'real_body'
op|')'
op|')'
op|','
nl|'\n'
string|"'X-Object-Sysmeta-Ec-Etag'"
op|':'
name|'body_etag'
op|'}'
newline|'\n'
name|'start'
op|'='
name|'int'
op|'('
name|'req_range'
op|'.'
name|'split'
op|'('
string|"'-'"
op|')'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'start'
op|'>='
number|'0'
op|')'
comment|'# sanity'
newline|'\n'
name|'title'
op|','
name|'exp'
op|'='
name|'swob'
op|'.'
name|'RESPONSE_REASONS'
op|'['
number|'416'
op|']'
newline|'\n'
name|'range_not_satisfiable_body'
op|'='
string|"'<html><h1>%s</h1><p>%s</p></html>'"
op|'%'
op|'('
name|'title'
op|','
name|'exp'
op|')'
newline|'\n'
name|'if'
name|'start'
op|'>='
name|'segment_size'
op|':'
newline|'\n'
indent|'            '
name|'responses'
op|'='
op|'['
op|'('
number|'416'
op|','
name|'range_not_satisfiable_body'
op|','
name|'headers'
op|')'
nl|'\n'
name|'for'
name|'i'
name|'in'
name|'range'
op|'('
name|'POLICIES'
op|'.'
name|'default'
op|'.'
name|'ec_ndata'
op|')'
op|']'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'responses'
op|'='
op|'['
op|'('
number|'200'
op|','
string|"''"
op|'.'
name|'join'
op|'('
name|'node_fragments'
op|'['
name|'i'
op|']'
op|')'
op|','
name|'headers'
op|')'
nl|'\n'
name|'for'
name|'i'
name|'in'
name|'range'
op|'('
name|'POLICIES'
op|'.'
name|'default'
op|'.'
name|'ec_ndata'
op|')'
op|']'
newline|'\n'
dedent|''
name|'status_codes'
op|','
name|'body_iter'
op|','
name|'headers'
op|'='
name|'zip'
op|'('
op|'*'
name|'responses'
op|')'
newline|'\n'
name|'expect_headers'
op|'='
op|'{'
nl|'\n'
string|"'X-Obj-Metadata-Footer'"
op|':'
string|"'yes'"
op|','
nl|'\n'
string|"'X-Obj-Multiphase-Commit'"
op|':'
string|"'yes'"
nl|'\n'
op|'}'
newline|'\n'
comment|'# TODO possibly use FakeApp here'
nl|'\n'
name|'with'
name|'set_http_connect'
op|'('
op|'*'
name|'status_codes'
op|','
name|'body_iter'
op|'='
name|'body_iter'
op|','
nl|'\n'
name|'headers'
op|'='
name|'headers'
op|','
name|'expect_headers'
op|'='
name|'expect_headers'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'resp'
op|'='
name|'req'
op|'.'
name|'get_response'
op|'('
name|'self'
op|'.'
name|'ssc'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'status_int'
op|','
number|'416'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'content_length'
op|','
name|'len'
op|'('
name|'range_not_satisfiable_body'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'body'
op|','
name|'range_not_satisfiable_body'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'etag'
op|','
name|'body_etag'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'resp'
op|'.'
name|'headers'
op|'['
string|"'Accept-Ranges'"
op|']'
op|','
string|"'bytes'"
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
